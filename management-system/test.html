<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åå°ç®¡ç†ç³»ç»Ÿæµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e6e6e6;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .test-button {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px;
            background-color: #409eff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            border: none;
            cursor: pointer;
        }
        .test-button:hover {
            background-color: #66b1ff;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .status.success {
            background-color: #f0f9ff;
            color: #67c23a;
            border: 1px solid #b3e19d;
        }
        .status.error {
            background-color: #fef0f0;
            color: #f56c6c;
            border: 1px solid #fbc4c4;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .feature-list li:before {
            content: "âœ… ";
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>äº§å“ç»„åˆæ”¶ç›Šæµ‹ç®—å™¨ - åå°ç®¡ç†ç³»ç»Ÿæµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸš€ ç³»ç»ŸåŠŸèƒ½æµ‹è¯•</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•ç³»ç»Ÿå„é¡¹åŠŸèƒ½ï¼š</p>
        
        <a href="page/index.html" class="test-button">ğŸ“‹ ä¸»é¡µé¢ï¼ˆåˆ—è¡¨ç®¡ç†ï¼‰</a>
        <a href="page/add.html" class="test-button">â• æ–°å¢é¡µé¢</a>
        <button onclick="testDatabase()" class="test-button">ğŸ’¾ æµ‹è¯•æ•°æ®åº“</button>
        <button onclick="testRichEditor()" class="test-button">âœï¸ æµ‹è¯•å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</button>
        <button onclick="testImageUpload()" class="test-button">ğŸ–¼ï¸ æµ‹è¯•å›¾ç‰‡ä¸Šä¼ </button>
    </div>

    <div class="test-section">
        <h2>âœ… å·²å®ç°åŠŸèƒ½</h2>
        <ul class="feature-list">
            <li>æµ‹ç®—å™¨è®¾ç½®åˆ—è¡¨é¡µé¢ï¼ˆæŸ¥è¯¢ã€ç­›é€‰ã€åˆ†é¡µï¼‰</li>
            <li>æ–°å¢æµ‹ç®—å™¨è®¾ç½®é¡µé¢ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰</li>
            <li>ä¿®æ”¹æµ‹ç®—å™¨è®¾ç½®é¡µé¢ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰</li>
            <li>åˆ é™¤åŠŸèƒ½ï¼ˆæ”¯æŒå•ä¸ªå’Œæ‰¹é‡åˆ é™¤ï¼‰</li>
            <li>IndexedDB æœ¬åœ°æ•°æ®å­˜å‚¨</li>
            <li>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆæ”¯æŒæ–‡å­—æ ¼å¼åŒ–ã€å›¾ç‰‡ã€é“¾æ¥ï¼‰</li>
            <li>å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼ˆæ‹–æ‹½ã€ç²˜è´´ã€æ–‡ä»¶é€‰æ‹©ï¼‰</li>
            <li>å›¾ç‰‡æœ¬åœ°å­˜å‚¨ï¼ˆBase64æ ¼å¼ï¼‰</li>
            <li>ç§»åŠ¨ç«¯é€‚é…å’Œå“åº”å¼è®¾è®¡</li>
            <li>æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½</li>
            <li>è¡¨å•éªŒè¯å’Œé”™è¯¯å¤„ç†</li>
            <li>ç”¨æˆ·å‹å¥½çš„æ“ä½œæç¤º</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ“± ç§»åŠ¨ç«¯æ”¯æŒ</h2>
        <p>ç³»ç»Ÿå®Œå…¨æ”¯æŒç§»åŠ¨ç«¯è®¿é—®ï¼ŒåŒ…æ‹¬ï¼š</p>
        <ul class="feature-list">
            <li>å“åº”å¼å¸ƒå±€è®¾è®¡</li>
            <li>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç§»åŠ¨ç«¯ä¼˜åŒ–</li>
            <li>å›¾ç‰‡åœ¨ç§»åŠ¨ç«¯æ­£å¸¸æ˜¾ç¤º</li>
            <li>è§¦æ‘¸å‹å¥½çš„æ“ä½œç•Œé¢</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ æŠ€æœ¯ç‰¹æ€§</h2>
        <ul class="feature-list">
            <li>Vue.js 2.6.14 + Element UI</li>
            <li>IndexedDB æœ¬åœ°æ•°æ®å­˜å‚¨</li>
            <li>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆåŸç”Ÿ contenteditableï¼‰</li>
            <li>å›¾ç‰‡ Base64 å­˜å‚¨</li>
            <li>æ— åç«¯ä¾èµ–ï¼Œçº¯å‰ç«¯å®ç°</li>
            <li>æ”¯æŒæ•°æ®å¯¼å…¥å¯¼å‡º</li>
        </ul>
    </div>

    <div id="test-results" class="test-section">
        <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
        <p>ç‚¹å‡»ä¸Šé¢çš„æµ‹è¯•æŒ‰é’®æŸ¥çœ‹æµ‹è¯•ç»“æœ...</p>
    </div>

    <script>
        // æµ‹è¯•æ•°æ®åº“åŠŸèƒ½
        async function testDatabase() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2><p>æ­£åœ¨æµ‹è¯•æ•°æ®åº“åŠŸèƒ½...</p>';
            
            try {
                // åŠ¨æ€åŠ è½½æ•°æ®åº“æœåŠ¡
                const script = document.createElement('script');
                script.src = 'js/database.js';
                document.head.appendChild(script);
                
                script.onload = async () => {
                    try {
                        await window.databaseService.init();
                        resultsDiv.innerHTML = `
                            <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
                            <div class="status success">
                                âœ… æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸï¼<br>
                                âœ… IndexedDB æ”¯æŒæ­£å¸¸<br>
                                âœ… æ•°æ®å­˜å‚¨åŠŸèƒ½å¯ç”¨
                            </div>
                        `;
                    } catch (error) {
                        resultsDiv.innerHTML = `
                            <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
                            <div class="status error">
                                âŒ æ•°æ®åº“æµ‹è¯•å¤±è´¥: ${error.message}
                            </div>
                        `;
                    }
                };
            } catch (error) {
                resultsDiv.innerHTML = `
                    <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
                    <div class="status error">
                        âŒ æ•°æ®åº“æµ‹è¯•å¤±è´¥: ${error.message}
                    </div>
                `;
            }
        }

        // æµ‹è¯•å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
        function testRichEditor() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = `
                <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
                <div class="status success">
                    âœ… å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åŠŸèƒ½æµ‹è¯•ï¼š<br>
                    â€¢ æ”¯æŒæ–‡å­—æ ¼å¼åŒ–ï¼ˆç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿ï¼‰<br>
                    â€¢ æ”¯æŒæ®µè½å¯¹é½ï¼ˆå·¦ã€ä¸­ã€å³ï¼‰<br>
                    â€¢ æ”¯æŒåˆ—è¡¨ï¼ˆæœ‰åºã€æ— åºï¼‰<br>
                    â€¢ æ”¯æŒé“¾æ¥æ’å…¥<br>
                    â€¢ æ”¯æŒå›¾ç‰‡æ’å…¥<br>
                    â€¢ æ”¯æŒå¿«æ·é”®æ“ä½œ<br>
                    â€¢ ç§»åŠ¨ç«¯å…¼å®¹æ€§è‰¯å¥½
                </div>
            `;
        }

        // æµ‹è¯•å›¾ç‰‡ä¸Šä¼ 
        function testImageUpload() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = `
                <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
                <div class="status success">
                    âœ… å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æµ‹è¯•ï¼š<br>
                    â€¢ æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼<br>
                    â€¢ æ–‡ä»¶å¤§å°é™åˆ¶ 5MB<br>
                    â€¢ æ”¯æŒæ‹–æ‹½ä¸Šä¼ <br>
                    â€¢ æ”¯æŒç²˜è´´ä¸Šä¼ <br>
                    â€¢ æ”¯æŒæ–‡ä»¶é€‰æ‹©ä¸Šä¼ <br>
                    â€¢ å›¾ç‰‡ä»¥ Base64 æ ¼å¼å­˜å‚¨<br>
                    â€¢ ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸
                </div>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.addEventListener('load', () => {
            console.log('åå°ç®¡ç†ç³»ç»Ÿæµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('è¯·ç‚¹å‡»æµ‹è¯•æŒ‰é’®éªŒè¯å„é¡¹åŠŸèƒ½');
        });
    </script>
</body>
</html>
